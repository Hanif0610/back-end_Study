# OSI 7계층
OSI(Open System Interconnection) 7 Layer는 국제 표준기구인 ISO(International Organization for Standardization)으로부터 탄생하였다.  
ISO기관에서 네트워크 프로토콜이 통신하는 구조를 7개의 계층으로 분리하여 각 계층 간 상호 작동하는 방식을 정의한 것이다.

## OSI 7계층을 나눈 이유
계층을 나누는 이유는 통신이 일어나는 과정을 단계별로 파악하기 위함이다.  
흐름을 한 눈에 알아보기 쉽고, 사람들이 이해하기 쉬우며 7단계 중 특정한 곳에 이상이 생기면 다른 단계의 장비 및 소프트웨어를 건들이지 않고도 이상이 생긴 단계만 고칠 수 있기 때문이다.

## OSI 7계층 구조
OSI 7계층은 다음과 같이 7계층으로 분리되어 있다.
![](https://t1.daumcdn.net/cfile/tistory/99B9DA355C39CC9725)  
**7 - 응용프로그램 계층  
6 - 표현 계층  
5 - 세션 계층  
4 - 전송 계층  
3 - 네트워크 계층  
2 - 데이터 링크 계층  
1 - 물리 계층**  

그림에서 보면 알 수 있듯이, 응용 계층부터 내려오면서 헤더라 하나 씩 붙는 것을 알 수 있다.  
이 헤더에는 그 계층에 대한 정보가 기록되어 있다.  

이메일을 보낸다고 가정할 때 처음으로 응용계층에서 헤더를 붙여 하위 계층으로 넘겨준다.  
표현 계층은 응용 계층에서 내려온 헤더와 이메일 데이터를 하나의 데이터로 간주하게 된다.  
그래서 다시 자신의 헤더를 붙여 하위 계층에 넘기게 된다.  
이러 과정은 Encapsulation이라고 한다.  
이런 식으로 물리 계층 까지 내려오게 되면 그때부터 0과 1의 이진 비트가 전송되는 것이다.  

받은 수신측에서는 거꾸로 물리계층부터 시작해 헤더의 정보를 확인한 후 떼어내게 된다.  
그리고 난 후 상위 계층으로 데이터를 전달한다.  
이렇게 헤더를 떼어내는 과정을 Decapsulation이라고 한다.

위 설명을 그림으로 정리하면 다음과 같다.
![](https://media.vlpt.us/images/bisu8018/post/25d87b6b-0a00-461a-a6bb-fffdf43bf137/image.png)

## 물리 계층(Physical Layer)
OSI 7계층에서 가장 밑에 위치한 1단계이다.  
주로 전기적, 기계적, 기능적인 특성을 이용해 데이터를 전송하는 하드웨어와 밀접한 관련이 있는 계층이다.  

전기적인 신호(비트열)만을 연결된 모든 노드에게 전달하는 계층이다.  
데이터는 0과 1의 비트열, 즉 On, Off의 전기적 신호 상태로 이루어진 비트(bit) 형태로 전송한다.  

다양한 하드웨어가 이 물리계층을 통해 전기적 신호를 처리하고. 송수신 하는 등 여러 종류의 하드웨어 기술이 접목되어 있기에 OSI 모델에서 가장 복잡한 계층이기도 하다.  

네트워크 어뎁터, 리피터, 네트워크 허브, 모뎀 등이 물리 계층을 담당하는 하드웨어 장비의 대표적인 예시다.

## 데이터 링크 계층(Data-Link Layer)
물리 계층의 상위 단계로서, 비트의 형태로 전송한 데이터를 받는 계층이다.  
네트워크 위의 개체들 간 데이터를 전달하고, 물리 계층에서 발생할 수 있는 오류를 찾아 수정하는 역할을 담당한다.  

포인트 투 포인트(Point to Point)간 신뢰성 있는 전송을 보장한다.  
보다 신뢰성있는 전송을 보장하기 위해 오류 검출 및 회복을 위한 오류 제어 기능을 수행한다.
송수신측의 속도 차이 해결을 위해 흐름제어 기능을 수행한다.

인접노드간의 통신으로 목적지 노드에 도달하기 위해 각 노드에 대한 물리적 주소(Mac)를 설정하게 된다.  
주요 장비로는 스위치, 브릿지가 있다.  
데이터의 전송 단위는 프레임(Frame)이다.  
프로토콜은 이더넷(Ethernet), PPP, HDLC, ALOHA등이 있다.

## 네트워크 계층(Network Layer)
네트워크 계층은 상위 레벨 데이터를 패킷 안으로 캡슐화하여 데이터의 종류와 상관없이 한 호스트에서 다른 호스트로 그 패킷들을 라우팅한다.  
데이터는 패킷 안으로 캡슐화 되며, 패킷 헤더는 패킷의 송수신지 주소들을 포함하는 필드를 가진다.

라우팅은 어떤 네트워크 안에서 데이터를 전송할 때 경로를 선택하는 과정을 의미하는데, 간단히 이 데이터가 어떤 길로 이동할지 정하는 것이다.  
최종 목적지 노드까지 가기 위해선 노드에 대한 논리적 주소가 필요한데 이것이 IP주소이다.

데이터링크 계층이 같은 네트워크(링크) 상에서의 패킷 전달을 책임진다면, 네트워크 계층은 최종 목적지까지의 패킷 전달을 책임진다고 생각하면 된다.      

데이터 전송 단위는 Packet(패킷)이다.  
프로토콜은 IP, RIP, ARP, ICMP가 있다.  
장비로는 라우터, L3 스위치가 있다.

## 전송 계층(Transport Layer)
전송 계층은 세션을 맺고 있는 두 사용자 사이에 신뢰성 있는 데이터 전송을 위한 종단간 전송을 담당하는 계층이다.  
종단간 전송이란 송신 컴퓨터의 응용프로그램(프로세스)에서 수신 컴퓨터의 응용프로그램으로의 전달을 의미한다.  
연결 지향 데이터 스트림 지원, 신뢰성, 흐름 제어, 다중화 등의 서비스를 제공한다.

패킷의 전송이 유효한 지 확인, 전송에 실패된 패킷을 재전송하는 등 신뢰성 있는 통신을 보장한다.  
주소 설정, 오류 제어, 흐름 제어, 다중화 수행을 한다.

데이터 전송 단위로는 TCP 일 때 Sagement/UDP 일 때 Datagram이다.  
프로토콜에는 TCP, UDP등이 있다.  
장비로는 L4 스위치(게이트웨이)가 있다.

## 세션 계층(Session Layer)
세션 계층은 양 끝단의 응용 프로세스가 통신을 관리하기 위한 방법을 제공하는 계층이다.  
어플리케이션간의 논리적 연결인 세션의 생성, 관리, 종료를 담당하는 계층이다.  
대화 제어를 담당하며 송수신간의 대화 동기를 위해 전송하는 정보의 일부분에 동기점을 두어 수신 상태를 체크한다.

통신 세션을 구성하며 포트 번호를 기반으로 연결하며, 통신 장치 간 상호작용 및 동기화를 제공한다.  

이 계층은 TCP/IP 세션을 만들고, 없애는 책임을 진다.  
통신하는 사용자들을 동기화하고 오류 복구 명령들을 일괄적으로 다룬다.

대표적으로는 RPC, Socket 등이 있다.

데이터 전송 단위는 메시지(message)이다.
프로토콜에는 NetBIOS, SSH가 있다.

## 표현 계층(Presentation Layer)
표현 계층은 코드 간의 번역을 담당하는 사용자 시스템에서 데이터의 형식상 차이를 다루는 부담을 응용하는 계층으로부터 덜어 준다.  
응용 계층으로부터 받은 데이터를 하위 계층인 세션 계층에 보내기 전 통신에 적당한 형태로 변환한다.
코드 변환, 구문 검색, 문맥 관리, 데이터 압축 및 암호화 등의 기능 수행한다.

데이터 전송 단위는 메시지(message)이다.  
프로토콜에는 JPG, MPEG, AFP, PAP가 있다.

## 응용 계층(Application Layer)
응용 계층은 사용자 인터페이스이다.  
사용자가 네트워크에 접근할 수 있도록 인터페이스를 담당하는 계층이다.

응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행한다.
응용 프로세스 간의 정보 교환, 전자 메일, 파일 전송 등의 서비스를 제공한다.

데이터 전송 단위는 메시지(message)이다.  
프로토콜에는 HTTP, FTD, DNS, SMTP가 있다.

### **계층별 전송 단위, 프로토콜, 장비 정리 표**
![](https://t1.daumcdn.net/cfile/tistory/26213535565D1D3D3A)