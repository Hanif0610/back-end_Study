# 퀵 정렬(Quick Sort)
**퀵 정렬**(Quicksort)은 찰스 앤터니 리처드 호어가 개발한 정렬 알고리즘이다.  
퀵 정렬은 **분할 정복**(divide and conquer) 방법을 통해 리스트를 정렬한다.
여기서 분할 정복 알고리즘이란, 큰 선에서 문제를 해결할 수 없을 때 이를 분할시켜 해결점을 찾은 뒤 다시 병합(정복)하는 방법을 얘기한다.  
퀵 정렬은 불안정 정렬에 속하며, 다른 원소와의 비교만으로 정렬을 수행하는 비교 정렬에 속한다.

퀵 정렬 리스트 중 하나의 원소를 고르게 되는데, 이 원소를 **피벗**(Pivot)이라고 한다.  
피벗은 주로 제일 왼쪽, 오른쪽, 정 중앙 원소 중 하나를 선택한다.  
피벗 앞에는 피벗보다 값이 작은 모든 원소들이 오고, 피벗 뒤에는 피벗보다 값이 큰 모든 원소들이 오도록 피벗을 기준으로 리스트를 둘로 나눈다.  
이렇게 리스트를 둘로 나누는 것을 **분할**이라고 하며, 분할을 마친 뒤에 피벗은 더 이상 움직이지 않는다.  
이렇게 나눠진 리스트는 다시 위의 과정을 반복하며 진행한다.  
마무리로 나눠진 피벗들을 다시 하나로 합치는데, 이러한 과정을 **정복**이라고 한다.  
![](https://upload.wikimedia.org/wikipedia/commons/6/6a/Sorting_quicksort_anim.gif)  

## 시간복잡도
퀵 정렬은 n개의 데이터를 정렬할 때, 최악의 경우에는 O(n2)번의 비교를 수행하고, 평균적으로 O(n log n)번의 비교를 수행한다. 
### **최적의 경우**
최적의 경우는 리스트가 균등하게 나눠어지는 리스트이다.
![](https://media.vlpt.us/post-images/hanrimjo/3ce4ba80-4883-11ea-866b-9bebdfc863e6/image.png) 

### **최악의 경우**
여기서 최악의 경우가 나오는 경우는 리스트가 정렬돼있는 상태에서 가장 작은 값 혹은 가장 큰 값을 피벗으로 정하는 경우이다.  
![](https://media.vlpt.us/post-images/hanrimjo/6fd7a2e0-4883-11ea-866b-9bebdfc863e6/image.png)

ex) { 1, 2, 3, 4, 5, 6, 7 }  
여기서 1로 피벗을 정한 후 i와 j를 지정한다.  
여기서 i는 피벗보다 큰 값을 찾지 못하고 j는 피벗보다 작은 값을 찾지 못하게 된다.  
이렇게 n-1번을 수행하게 되면 피벗은 그대로 두고 다음 값을 피벗으로 정하여 다시 수행하게 된다.  
이러한 식으로 끝까지 바꾸지 못하고 처음부터 끝까지 탐색만 하는 과정이 최악의 경우라고 할 수 있다.

## 장단점
- 장점
    - 기준값에 의한 분할을 통해서 구현하는 정렬법으로써, 분할 과정에서 logN 이라는 시간이 걸리게되고 전체적으로 보게 되면NlogN 으로써 실행시간이 준수한 편이다.
- 단점
    - 정렬된 리스트에 대해서는 퀵정렬의 불균형 분할에 의해 오히려 수행시간이 더 많이 걸린다.

## 예제코드
```java
public void quickSort(int[] arr, int left, int right) {
    int i, j, pivot, tmp;
    if (left < right) {
        i = left;   j = right;
        pivot = arr[(left+right)/2];
        //분할 과정
        while (i < j) {
            while (arr[j] > pivot) j--;
            // 이 부분에서 arr[j-1]에 접근해서 익셉션 발생가능함.
            while (i < j && arr[i] < pivot) i++;

            tmp = arr[i];
            arr[i] = arr[j];
            arr[j] = tmp;
        }
        //정렬 과정
        quickSort(arr, left, i - 1);
        quickSort(arr, i + 1, right);
    }
}
```