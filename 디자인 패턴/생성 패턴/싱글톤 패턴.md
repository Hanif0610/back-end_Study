# 싱글톤 패턴
- 애플리케이션이 시작될 때 어떤 클래스가 최초 한번만 메모리를 할당하고(Static) 그 메모리에 인스턴스를 만들어 사용하는 디자인패턴
- 인스턴스가 프로그램 내에서 오직 하나만 생성되는 것을 보장하고, 프로그램 어디에서든 이 인스턴스에 접근할 수 있도록 하는 패턴
- 즉, 인스턴스가 사용될 때 똑같은 인스턴스를 여러 개 만드는 것이 아니라, 기존에 생성했던 동일한 인스턴스를 사용하게끔 하는 것
- 생성자가 여러 차례 호출되더라도 실제로 생성되는 객체는 하나고 최초 생성 이후에 호출된 생성자는 최초에 생성한 객체를 반환
## 사용 이유
- 고정된 메모리 영역을 얻으면서 한번의 new로 인스턴스를 사용하기 때문에 메모리 낭비를 방지
- DBCP(DataBase Connection Pool)처럼 공통된 객체를 여러개 생성해서 사용해야하는 상황에서 많이 사용
- 인스턴스가 절대적으로 한개만 존재하는 것을 보증하고 싶을 경우 사용
## 장점
- 인스턴스가 오직 한 개만 생성되므로, 메모리상 이점이 있음
- 두 번째 이용시부터는 객체 로딩 시간이 현저하게 줄어 성능이 좋아짐
- 생성된 인스턴스가 전역 인스턴스이므로, 다른 인스턴스들과 데이터 공유가 쉬움
## 단점
- 싱글톤으로 생성된 인스턴스가 다른 클래스의 인스턴스들과 많은 데이터를 공유할 경우 OCP원칙(Open-Closed-Principle: 개방 폐쇄 원칙)을 어기게 됨
- 멀티쓰레드환경에서 동기화처리를 안하면 인스턴스가 두개가 생성된다든지 하는 경우가 발생할 수 있음
## 예제코드
```java
public class SingleObj {
    private static SingleObj singleObj = null;

    // 외부에서 직접 생성하지 못하도록 private 선언
    private SingleObj(){ }

    // 오직 1개의 객체만 생성
    public static SingleObj getInstance(){
        if( singleObj == null ){
            singleObj = new SingleObj();
        }

        return singleObj;
    }
}
```
### 외부에서 객체를 생성할 수 없도록 생성자를 private으로 선언
### 이후 외부에서 자신을 반환할 수 있도록 get메서드를 정의
### **단, 여기서는 static으로 선언해야 한다.**
### get메서드를 호출할 때, 변수에 객체가 할당되지 않으면 새로운 객체를 생성하고 이미 있으면 그대로 반환한다.